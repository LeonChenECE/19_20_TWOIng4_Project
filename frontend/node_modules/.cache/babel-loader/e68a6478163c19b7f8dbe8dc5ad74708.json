{"ast":null,"code":"var _jsxFileName = \"/Users/leonchen/Documents/Cours/Web/19_20_TWOIng4_Project/ChenPapDashboard/src/components/SensorList.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Sensor = props => React.createElement(\"tr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6\n  },\n  __self: this\n}, React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7\n  },\n  __self: this\n}, props.sensor._id), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n}, props.sensor.location), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, props.sensor.CreateationDate), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, props.sensor.userID), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, React.createElement(Link, {\n  to: \"/EditSensor/\" + props.sensor._id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13\n  },\n  __self: this\n}, \"Edit \"), \"|\", React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deleteSensor(props.sensor._id);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, \" Delete\")));\n\nexport default class SensorList extends Component {\n  constructor(props) {\n    super(props);\n    this.deleteSensor = this.deleteSensor.bind(this);\n    this.state = {\n      sensors: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/sensor/').then(response => {\n      this.setState({\n        sensors: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  deleteSensor(id) {\n    axios.delete('http://localhost:5000/sensor/' + id).then(res => console.log(res.data));\n    this.setState({\n      sensors: this.state.sensors.filter(el => el._id !== id)\n    });\n  }\n\n  userList() {\n    return this.state.users.map(currentuser => {\n      return React.createElement(User, {\n        user: currentuser,\n        deleteUser: this.deleteUser,\n        key: currentuser._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"List of all the Sensors\"), React.createElement(Link, {\n      to: \"/CreateSensor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Create a New Sensor\")), React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Location\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Persons in House\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"House Size\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.userList())));\n  }\n\n}","map":{"version":3,"sources":["/Users/leonchen/Documents/Cours/Web/19_20_TWOIng4_Project/ChenPapDashboard/src/components/SensorList.js"],"names":["React","Component","Link","axios","Sensor","props","sensor","_id","location","CreateationDate","userID","deleteSensor","SensorList","constructor","bind","state","sensors","componentDidMount","get","then","response","setState","data","catch","error","console","log","id","delete","res","filter","el","userList","users","map","currentuser","deleteUser","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Sensor = props => (\n\t<tr>\n\t\t<td>{props.sensor._id}</td>\n\t\t<td>{props.sensor.location}</td>\n\t\t<td>{props.sensor.CreateationDate}</td>\n\t\t<td>{props.sensor.userID}</td>\n\n\t\t<td>\n\t\t\t<Link to={\"/EditSensor/\"+props.sensor._id}>Edit </Link>\n\t\t\t | \n\t\t\t<a href=\"#\" onClick={() => { props.deleteSensor(props.sensor._id) }}> Delete</a>\n\t\t</td>\n\t</tr>\n\n\t)\n\nexport default class SensorList extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.deleteSensor = this.deleteSensor.bind(this);\n\n\t\tthis.state = {sensors: []};\n\t}\n\n\tcomponentDidMount(){\n\t\taxios.get('http://localhost:5000/sensor/')\n\t\t\t.then(response => {\n\t\t\t\tthis.setState({ sensors: response.data})\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t})\n\t}\n\n\tdeleteSensor(id) {\n\t\taxios.delete('http://localhost:5000/sensor/'+id)\n\t\t.then(res => console.log(res.data));\n\n\t\tthis.setState({\n\t\t\tsensors: this.state.sensors.filter(el => el._id !== id)\n\t\t})\n\t}\n\n\tuserList() {\n\t\treturn this.state.users.map(currentuser => {\n\t\t\treturn <User user={currentuser} deleteUser={this.deleteUser} key={currentuser._id}/>;\n\t\t})\n\t}\n\n\trender() {\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<h3>List of all the Sensors</h3>\n\t\t\t\t<Link to={\"/CreateSensor\"}><button>Create a New Sensor</button></Link>\n\t\t\t\t<table className=\"table\">\n\t\t\t\t\t<thead className=\"thead-light\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>ID</td>\n\n\t\t\t\t\t\t\t<td>Location</td>\n\t\t\t\t\t\t\t<td>Persons in House</td>\n\t\t\t\t\t\t\t<td>House Size</td>\n\t\t\t\t\t\t\t<td>Actions</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{this.userList()}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t)\n\t}\n\n}"]},"metadata":{},"sourceType":"module"}